<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>treealign - a simple frontend for training and applying a tree aligner model using Lingua::Align::Trees and a standard binary classifier</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#options">OPTIONS</a></li>
		<ul>

			<li><a href="#input_options">Input options</a></li>
			<li><a href="#training_options">Training options</a></li>
			<li><a href="#alignment_options">Alignment options</a></li>
			<li><a href="#runtime_options">Runtime options</a></li>
		</ul>

	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT AND LICENSE</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>treealign - a simple frontend for training and applying a tree aligner model using Lingua::Align::Trees and a standard binary classifier</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    treealign [OPTIONS]</pre>
<pre>
    # train a model from tree aligned data
    treealign -n 100 -m treealign.model -a train-data.xml</pre>
<pre>
    # aligning a parallel treebank
    treealign -m treealign.model -a parallel-treebank.xml &gt; aligned.xml</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Currently, training data has to be in Stockholm Tree Aligner format. The output format is the same format.</p>
<p>
</p>
<h2><a name="options">OPTIONS</a></h2>
<p>There is a number of options that can be specified on the command line.</p>
<p>
</p>
<h3><a name="input_options">Input options</a></h3>
<dl>
<dt><strong><a name="a_parallel_treebank_file" class="item">-a parallel-treebank-file</a></strong></dt>

<dd>
<p>Name of the file that contains the parallel treebank. Default format is Stockholm Tree Aligner format (where the sentence alignment is implicitely given by tree node alignments). To use a different format use the option -A</p>
</dd>
<dt><strong><a name="a_format" class="item">-A format</a></strong></dt>

<dd>
<p>Format of the parallel treebank/corpus. Default is sta (Stockholm Tree Aligner format). Other options are, for example, 'opus' (CES XML format as it is used in the OPUS corpus)</p>
</dd>
<dt><strong><a name="s_source_treebank_file" class="item">-s source-treebank-file</a></strong></dt>

<dd>
<p>Name of the files that contains the source language treebank. This is useful to sepcify a file that is different from the one that is specified in the 'parallel-treebank-file'. For example, sentence alignment files from OPUS usually refer to non-parsed XML files. With -s we can overwrite this and refer to the parsed corpus instead. However, be aware that the same sentences have to be covered in the same order and appropriate IDs of these sentences have to be found when reading through the treebank files.</p>
</dd>
<dt><strong><a name="s_format" class="item">-S format</a></strong></dt>

<dd>
<p>Format of the source language treebank. Default is TigerXML (which is used in the Stockholm Tree Aligner)</p>
</dd>
<dt><strong><a name="t_target_treebank_file" class="item">-t target-treebank-file</a></strong></dt>

<dd>
<p>Name of the target language treebank file (similar to -s but for the target language)</p>
</dd>
<dt><strong><a name="t_format" class="item">-T format</a></strong></dt>

<dd>
<p>Format of the target language treebank (similar to -S)</p>
</dd>
<dt><strong><a name="w" class="item">-w</a></strong></dt>

<dd>
<p>Swap alignment direction when reading through the parallel treebank</p>
</dd>
</dl>
<p>
</p>
<h3><a name="training_options">Training options</a></h3>
<p>Training will be enabled if a positive number of training sentences iss specified with the -n option OR the modelfile does not exist.</p>
<dl>
<dt><strong><a name="n_nr_sent" class="item">-n nr_sent</a></strong></dt>

<dd>
<p>Specify how many sentence (tree) pairs will be used for training a new tree-aligner model.</p>
</dd>
<dt><strong><a name="f_features" class="item">-f features</a></strong></dt>

<dd>
<p>Define features to be used in training. (For alignment, features are taken from the modelfile.feat file!!) 'features' is a string with feature types separated by ':'. There are various features that can be used and combined. For more details look at <a href="/~tiedeman/Lingua/Align/Trees/Features.html">the Lingua::Align::Trees::Features manpage</a>. The default is 'insideST2:insideTS2:outsideST2:outsideTS2'</p>
</dd>
<dt><strong><a name="m_model_file" class="item">-m model-file</a></strong></dt>

<dd>
<p>Name of the file to store model parameters / read model parameters</p>
</dd>
<dt><strong><a name="c_classifier" class="item">-c classifier</a></strong></dt>

<dd>
<p>Classifier to be used. Default is 'megam'. Another possiblity is 'clue' which refers to a noisy-or like classifier with independent precision-weighted features (requires probabilistic values for each feature and supports only positive features). Other classifiers may be supported in future releases of Lingua::Align.</p>
</dd>
<dt><strong><a name="m_moses_dir" class="item">-M moses-dir</a></strong></dt>

<dd>
<p>Directory with the GIZA++ and Moses word alignment files that will be used for extracting certain features. Default is 'moses' and the treealigner expects to find files with the following names</p>
<pre>
 &lt;moses-dir&gt;/model/lex.0-0.e2f
 &lt;moses-dir&gt;/model/lex.0-0.f2e
 &lt;moses-dir&gt;/giza.src-trg/src-trg.A3.final.gz
 &lt;moses-dir&gt;/giza.trg-src/trg-src.A3.final.gz
 &lt;moses-dir&gt;/model/aligned.intersect</pre>
<p>An alterantive way of specifying the location of word alignment files is to use the options (-d -D -g -G -y), see below.</p>
</dd>
<dt><strong><a name="d_lexe2f" class="item">-d lexe2f</a></strong></dt>

<dd>
<p>Path to the probabilistic source-to-target lexicon created by Moses from the word aligned corpus. Of course, it could be any kind of bilingual dictionary as long as it provides a score for each entry and it uses the same format as the one created by Moses. Default is <code>moses/model/lex.0-0.e2f</code>.</p>
</dd>
<dt><strong><a name="d_lexf2e" class="item">-D lexf2e</a></strong></dt>

<dd>
<p>Similar to -d but for the target-to-source lexicon. Default is <code>moses/model/lex.0-0.f2e</code></p>
</dd>
<dt><strong><a name="g_giza_e2f_a3" class="item">-g giza.e2f.A3</a></strong></dt>

<dd>
<p>Path to the Viterbi word alignment (source-to-target) created by GIZA++ (or other word aligners producing aligments in the same format). Default is <code>moses/giza.trg-src/trg-src.A3.final.gz</code>.</p>
</dd>
<dt><strong><a name="g_giza_f2e_a3" class="item">-G giza.f2e.A3</a></strong></dt>

<dd>
<p>Similar to -g but for the other alignment direction. Default = <code>moses/giza.trg-src/trg-src.A3.final.gz</code></p>
</dd>
<dt><strong><a name="y_symal_file" class="item">-y symal-file</a></strong></dt>

<dd>
<p>Path to the symmetrized word alignment format created by Moses (or other tools). Default = <code>moses/model/aligned.intersect</code></p>
</dd>
<dt><strong><a name="i_id_file" class="item">-I id-file</a></strong></dt>

<dd>
<p>Name of the file that contains pairs of IDs for all sentences that have been word aligned with GIZA++/Moses. This is useful to match sentences when reading word alignment files for feature extraction (sometimes not all sentences are included in both, the parsed collection and the word aligned data!). Note that word aligments and parallel treebanks have still to be stored in the same order but sentences may be skipped if they do not appear in one of them. The format is like follows:</p>
<pre>
 ## source-file-name    target-file-name
 src-id1   trg-id1
 src-id2   trg-id2
 ....</pre>
<p>The delimiter is one TAB character! n:m alignments are possible (IDs separated by spaces) but only 1:1 alignments will be used in the treealigner anyway.</p>
</dd>
<dt><strong><a name="c" class="item">-C</a></strong></dt>

<dd>
<p>Switch on the linked-children feature (depending on the links between children nodes of the current node pair). This flag has to be specified in both, train and align mode!</p>
</dd>
<dt><strong><a name="u" class="item">-U</a></strong></dt>

<dd>
<p>Switch on the linked-subtree-nodes feature (depending on the links between all descendent nodes of the current node pair). This flag has to be specified in both, train and align mode!</p>
</dd>
<dt><strong><a name="p" class="item">-P</a></strong></dt>

<dd>
<p>Switch on the linked-parent feature (depending on the links between parent nodes of the current node pair). This flag has to be specified in both, train and align mode! This flag should NOT be used together with -U or -C!</p>
</dd>
<dt><strong><a name="r_iter" class="item">-R iter</a></strong></dt>

<dd>
<p>Use &lt;iter&gt; number of iterations for adaptive SEARN style learning. This is only useful in connection with (any of) the link depedency features from above (-C -U -P). Instead of learning from the given true link depedency feature extracted from the training data, this option will run the training several times and adjust these features acoording to the predicted link likelihoods from the previously trained classifier. This is currently very slow because it re-runs the feature extraction procedure (which should not be necessary when re-running the classifier). This should be improved later but the effect of SEARN seems to be very little anyway ....</p>
</dd>
<dt><strong><a name="l" class="item">-L</a></strong></dt>

<dd>
<p>Align terminal nodes only (leaf nodes). It is possible to use this flag together with -N which then forces the aligner to align corresponding node types only (terminals with terminals and non-terminals with non-terminals)</p>
</dd>
<dt><strong><a name="n" class="item">-N</a></strong></dt>

<dd>
<p>Align non-terminal nodes only. If specified together with -L: align corresponding nodes as explained above.</p>
</dd>
<dt><strong><a name="1_weight" class="item">-1 weight</a></strong></dt>

<dd>
<p>Training weight for good (sure) alignments</p>
</dd>
<dt><strong><a name="2_weight" class="item">-2 weight</a></strong></dt>

<dd>
<p>Training weight for fuzzy (possible) alignments</p>
</dd>
<dt><strong><a name="3_weight" class="item">-3 weight</a></strong></dt>

<dd>
<p>Training weight for negative examples (non-aligned nodes)</p>
</dd>
<dt><strong><a name="k" class="item">-k</a></strong></dt>

<dd>
<p>Keep the feature file extracted for training which usually is removed to save storage space. The features are stored in __train.$$ (where $$ corresponds to the process ID)</p>
</dd>
</dl>
<p>
</p>
<h3><a name="alignment_options">Alignment options</a></h3>
<dl>
<dt><strong><a name="x_threshold" class="item">-x threshold</a></strong></dt>

<dd>
<p>Score threshold used for tree alignment. Node pairs obtaining scores below this threshold will not be considered in the alignment process.</p>
</dd>
<dt><strong><a name="l_linksearch" class="item">-l LinkSearch</a></strong></dt>

<dd>
<p>Link strategy used to extract the node aligments after classification. Default strategy is 'greedy'. Other possible strategies are 'wellformed' (greedy + wellformedness criteria) and threshold (allow all links above the threshold score).</p>
</dd>
<dt><strong><a name="u" class="item">-u</a></strong></dt>

<dd>
<p>Switch to add-links mode (union). Existing links between nodes will be kept in the output file and new ones will be added. (In the default mode, existing links will be considered for evaluation only). This option is espcially useful if one wants to use a pipeline of alignments, for example, terminal node alignment first and non-terminal nodes in the next step.</p>
</dd>
</dl>
<p>
</p>
<h3><a name="runtime_options">Runtime options</a></h3>
<dl>
<dt><strong><a name="v" class="item">-v</a></strong></dt>

<dd>
<p>Verbose output</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>Lingua::Align::Trees, Lingua::Align::Trees::FeatureExtractor</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Joerg Tiedemann, &lt;<a href="mailto:j.tiedemann@rug.nl">j.tiedemann@rug.nl</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT AND LICENSE</a></h1>
<p>Copyright (C) 2009 by Joerg Tiedemann</p>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself, either Perl version 5.8.8 or,
at your option, any later version of Perl 5 you may have available.</p>

</body>

</html>
